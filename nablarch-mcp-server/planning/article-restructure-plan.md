# nablarch-mcp-server 連載記事 再構成計画（統合版）

> **文書ID**: cmd047_restructure_plan
> **作成日**: 2026-02-07
> **ベース**: Phase 2 三者提案（教育設計者 / 駆け出しエンジニア / テックリード）の統合
> **ステータス**: Phase 2.5 統合完了 — レビュー待ち

---

## 1. エグゼクティブサマリー

### 背景

Phase 1診断により、全14記事は単体として高品質だが、8名の担当者による並列執筆のため**「駆け出しエンジニアがゼロから専門家になる」成長ストーリーが設計されていない**という根本的問題が発見された。具体的には19件の問題（前提知識の飛躍5件、ストーリーの断絶3件、内容の重複2件、ナビゲーション不整合5件、分量の過剰2件、順序の不自然さ2件）が確認された。

### 三者の提案の核心

| 提案者 | 核心的提言 | 統合計画への反映 |
|--------|-----------|----------------|
| **教育設計者** | 5段階の学習ロードマップ、認知負荷理論に基づく記事分割、足場かけとスパイラル学習 | 学習レベル定義、記事分割方針、新規記事の位置づけ |
| **駆け出しエンジニア** | 感情マップによる挫折ポイント特定、「動くもの」を先に見せる方針、3回わからないと脱落する現実 | 各記事の感情設計、ハンズオン優先の構成、橋渡し文の設計 |
| **テックリード** | スキルツリーと実務活用場面の明示、実践課題の全記事配置、メンターアドバイスの挿入 | スキル対応表、実践課題、メンターコメント、学習パス設計 |

### 統合方針の要約

1. **新規記事2本を追加**: Nablarch入門（記事03A）、RAG入門（記事05A）で前提知識ギャップを解消
2. **記事04を2分割**: 基本体験編（04A）+ 詳細ハンズオン編（04B）で認知負荷を軽減
3. **記事06-07の順序入れ替え**: 静的知識（YAML）を先、動的知識（RAG）を後の自然な流れに
4. **記事11を記事08の直後に移動**: 設定を理解してから実装パターンを学ぶ流れに
5. **全記事に4要素を追加**: 感情設計 / 実践課題 / メンターアドバイス / 実務活用場面
6. **ナビゲーション不整合5件を全修正**: 次回予告と実際の内容を完全一致させる
7. **記事09は分割せず圧縮**: 代表3 Toolを詳述し残りは簡潔に（1308行から800行目標）

### 最終的な記事数

- 現行: 14記事
- 新規追加: 2本（03A: Nablarch入門、05A: RAG入門）
- 分割: 1件（記事04 を 04A + 04B に）
- **合計: 17記事**

---

## 2. 最終的な記事構成（全17記事）

### 2.1 全体構成一覧

```
【第1部: 入門編】ゼロからの第一歩（記事01-03A）--- 所要時間: 約1.5時間
  01: MCPとは何か
  02: nablarch-mcp-serverの全体像
  03A: Nablarch入門（新規）

【第2部: 初級編】動かして感動する（記事03-04B）--- 所要時間: 約2時間
  03: ゼロから始めるセットアップ
  04A: 使ってみよう 基本編（記事04を分割・前半）
  04B: 使ってみよう 応用編（記事04を分割・後半）

【第3部: 中級編】仕組みを理解する（記事05-09）--- 所要時間: 約4時間
  05: アーキテクチャ概要
  05A: RAG入門（新規）
  06: ナレッジの構造化（旧07）
  07: RAGパイプライン詳解（旧06）
  08: Spring AI MCP Serverとの統合
  09: 設定ファイル完全ガイド（旧11）

【第4部: 上級編】設計と実装を読み解く（記事10-11）--- 所要時間: 約2.5時間
  10: Tool設計と実装パターン（旧09）
  11: Resource/Prompt設計と実装パターン（旧10）

【第5部: 実践編】自分で作り、守り、直す（記事12-14）--- 所要時間: 約3時間
  12: 拡張ガイド
  13: テスト戦略
  14: トラブルシューティングとロードマップ
```

### 2.2 各記事の詳細設計

---

#### 記事01: MCPとは何か --- AIコーディングツールの新標準プロトコル

| 項目 | 内容 |
|------|------|
| **変更** | なし（現状維持） |
| **学習レベル** | レベル0 から レベル1 |
| **習得スキル** | S01: MCP概念理解 |
| **前提知識** | AIツール使用経験、プログラミング基礎 |
| **学べること** | MCPの基本概念（Tools/Resources/Prompts）、ハルシネーション問題、MCPの価値 |
| **できるようになること** | MCPの価値を他者に説明できる |

**読者の感情設計**（駆け出しエンジニア案より）:
- 読む前: 「MCPって何？ 難しそう...」
- 読んだ後: 「なるほど、AIの知識不足を解決する仕組みか。スマホアプリがカメラやGPSを使うのと同じイメージだな」
- 次を読みたい理由: 「MCPの基本がわかった。nablarch-mcp-serverって具体的に何ができるの？」

**メンターのアドバイス**（テックリード案より）:
> 「MCPは難しそうに聞こえるけど、実は『AIに外部ツールを使わせる標準的な方法』というだけ。スマホアプリがカメラやGPSを使うのと同じで、AIが『検索』『ファイル読み込み』『データベースアクセス』を使えるようになる仕組みだと思えばOK。」

**実践課題**:
- [ ] Claude Codeを開いて、MCPがない状態とある状態の違いを想像する
- [ ] 「MCPがない世界」の不便さを自分の言葉で3つ挙げる

**実務での活用場面**: クライアントへの技術説明、社内勉強会での導入資料作成

**前記事からの接続**: （シリーズ第1回）
**次記事への橋渡し**: 「MCPの基本概念が理解できました。次は、MCPを使って**Nablarchの情報不足問題を解決するプロジェクト**の全体像を学びます」

---

#### 記事02: nablarch-mcp-serverの全体像 --- なぜ作ったのか、何ができるのか

| 項目 | 内容 |
|------|------|
| **変更** | 末尾の次回予告を修正、技術用語の簡潔化 |
| **学習レベル** | レベル1 |
| **習得スキル** | S02: プロジェクト目的理解 |
| **前提知識** | 記事01（MCP基本概念） |
| **学べること** | Nablarchの概要、情報不足問題、RAG+MCPの解決策 |
| **できるようになること** | 本プロジェクトの目的と価値を説明できる |

**読者の感情設計**:
- 読む前: 「Nablarchって何？ nablarch-mcp-serverって何ができるの？」
- 読んだ後: 「NablarchのコードをAIが正確に生成できるようになるのか。113リポジトリの知識をAIに教える仕組み、すごいな」
- 次を読みたい理由: 「理屈はわかった。でもNablarchの用語がまだわからない。まずはそこから学びたい」

**メンターのアドバイス**:
> 「Nablarchを知らなくてもOK。この記事で大事なのは『なぜこのプロジェクトが必要なのか』を理解すること。113リポジトリ分の知識をAIに教える仕組みを作った、というストーリーを押さえよう。」

**実践課題**:
- [ ] 「Nablarchの情報不足問題」を自分の言葉で説明する
- [ ] 10 Tools + 8 Resources + 6 Promptsのうち、最も興味があるものを3つ選ぶ

**実務での活用場面**: 新規プロジェクトの技術選定会議、新メンバーのオンボーディング

**修正アクション**:
- 末尾の予告を修正: 「次回はアーキテクチャ設計に深く踏み込みます」(削除) → 「次回は、Nablarchの基礎用語を学びます。ハンドラキュー、Action、Formなど、このシリーズで頻出する用語を先に押さえましょう」(新規)
- 「RAG」「Embedding」「pgvector」などの技術用語を簡潔な説明（1-2文）に制限。詳細は記事05A（RAG入門）に委譲
- 記事02末尾に用語集を追加

**前記事からの接続**: 「記事01でMCPの基本概念を学びました。今回は、MCPを活用した具体的なプロジェクトを見ていきます」
**次記事への橋渡し**: 「nablarch-mcp-serverの目的が理解できました。次は、このシリーズで頻出する**Nablarchの基礎用語**を学びます」

---

#### 記事03A: Nablarch入門 --- 駆け出しエンジニアのためのNablarch基礎知識【新規】

| 項目 | 内容 |
|------|------|
| **変更** | **新規記事** |
| **学習レベル** | レベル1 |
| **習得スキル** | S03: Nablarch基礎 |
| **前提知識** | Java基礎（クラス、メソッド、アノテーション）、Webアプリの基本 |
| **学べること** | ハンドラキュー、Action、Form、Entity、UniversalDaoの5大用語 |
| **できるようになること** | Nablarch用語を理解し、Spring Bootとの違いを説明できる |

**なぜこの記事が必要か**（3案共通の最重要指摘）:
Phase 1診断で最も深刻な問題として全3案が一致して指摘した点。記事04でNablarch専門用語が前提知識になっているが、記事01-03のどこでも説明されていない。駆け出しエンジニアは記事04で確実に挫折する。

**読者の感情設計**:
- 読む前: 「Nablarchって結局何？ どういう用語があるの？」
- 読んだ後: 「5大用語がわかった。ハンドラキューってSpring Bootにはない独特の仕組みなんだな。これで次の記事が読めそう」
- 次を読みたい理由: 「Nablarchの基本用語がわかった。これで記事04の実践ガイドが理解できそう！」

**メンターのアドバイス**:
> 「Nablarchの全機能を理解する必要はない。まずは『リクエストがどう流れるか（ハンドラキュー）』『データベースをどう操作するか（UniversalDao）』の2点を押さえれば、AIツールでの開発が劇的に楽になる。」

**記事の想定構成**:
1. Nablarchとは何か（5分で理解する概要）
2. ハンドラキュー --- リクエスト処理の流れ（図解付き）
3. Action --- リクエストを処理するクラス（SpringのControllerに相当）
4. Form --- 入力データを受け取るクラス（SpringのDTOに相当）
5. Entity --- データベースのテーブルに対応するクラス
6. UniversalDao --- データベース操作を簡単にするライブラリ（SpringのJpaRepositoryに相当）
7. NablarchとSpring Bootの比較表
8. 全体像の図解（Mermaid）
9. まとめ --- 次の記事への橋渡し

**実践課題**:
- [ ] Nablarchの公式サンプルアプリ（example-proman）を見て、ActionとFormを探す
- [ ] UniversalDaoを使ったコードを1つ見つける
- [ ] NablarchとSpring Bootの対応関係を自分の言葉で説明する

**実務での活用場面**: Nablarchプロジェクトへの新メンバーのオンボーディング、他フレームワーク経験者への説明

**想定分量**: 600-800行 / 所要時間: 約20分

**前記事からの接続**: 「記事02でNablarchの概要と情報不足問題を学びました。今回は、このシリーズで頻出するNablarchの基礎用語を学びます」
**次記事への橋渡し**: 「Nablarchの基礎用語（ハンドラキュー、Action、Form、Entity、UniversalDao）が理解できました。次は、実際にnablarch-mcp-serverを**セットアップ**して動かしましょう」

---

#### 記事03: ゼロから始めるセットアップ --- 環境構築から動作確認まで

| 項目 | 内容 |
|------|------|
| **変更** | Phase 1/2の違いセクション追加、pgvectorセットアップの詳細化 |
| **学習レベル** | レベル1 から レベル2 |
| **習得スキル** | S04: 環境構築スキル、S05: MCP接続設定 |
| **前提知識** | 記事01-02（MCP基本、プロジェクト概要）、コマンドライン基本 |
| **学べること** | 環境構築（Java、Maven、PostgreSQL）、Phase 1起動、MCP接続設定 |
| **できるようになること** | nablarch-mcp-serverをセットアップし、MCPサーバーに接続できる |

**読者の感情設計**:
- 読む前: 「セットアップできるかな...」
- 読んだ後: 「なんとかセットアップできた！ MCPサーバーが動いてる！」
- 次を読みたい理由: 「セットアップできた！ で、これで何ができるの？ 使ってみたい！」

**メンターのアドバイス**:
> 「Phase 1（静的知識のみ）とPhase 2（RAG）の違いは、今は理解できなくてもOK。まずはPhase 1で動かして、『MCPが動いた！』という体験を得ることが大事。Phase 2は記事05A以降で理解できるようになる。」

**実践課題**:
- [ ] Phase 1モード（静的知識のみ）で起動し、動作確認
- [ ] Claude Code / Claude Desktopにnablarch-mcp-serverを接続
- [ ] 最初のMCPリクエストを送って、レスポンスを確認

**実務での活用場面**: チームメンバーのローカル環境構築、CI/CD環境構築

**修正アクション**:
- 「Phase 1とPhase 2の違い」セクションを追加（100-150行）
- PostgreSQL + pgvectorのセットアップ手順を詳細化
- 「Phase 2（RAG）は後回しでOK」と明記し、Phase 1で十分使えることを強調

**前記事からの接続**: 「記事03AでNablarch用語を学びました。今回は、実際にnablarch-mcp-serverをセットアップします」
**次記事への橋渡し**: 「セットアップが完了し、MCPサーバーに接続できました。次は、実際に**Toolsを使ってNablarch開発を体験**します」

---

#### 記事04A: 使ってみよう 基本編 --- 最初の10分で感動体験【記事04を分割・前半】

| 項目 | 内容 |
|------|------|
| **変更** | **記事04を分割（前半）**。簡単な体験に絞る |
| **学習レベル** | レベル2 |
| **習得スキル** | S06: 基本Tool使用（基礎） |
| **前提知識** | 記事03（セットアップ完了）、記事03A（Nablarch用語） |
| **学べること** | semantic_search、design_handler_queue、Resourceの使い方 |
| **できるようになること** | 基本的な3 Toolsを使える、Resourceから知識を取得できる |

**なぜ分割するか**（教育設計者 + 駆け出しエンジニア共通指摘）:
- 現行記事04は1586行（他記事の2-5倍）で認知負荷が過大
- 10 Tools + 8 Resources + 6 Promptsを一度に紹介するのは情報過多
- 駆け出しエンジニアは「最初の10分で動いた！」という感動体験が必要

**読者の感情設計**:
- 読む前: 「実際に使ってみたい！ でも難しくないといいな...」
- 読んだ後: 「Claudeに『Nablarchのハンドラキューを教えて』って聞いたら、ちゃんと答えが返ってきた！ すごい！」
- 次を読みたい理由: 「基本的なToolが使えた！ もっと色々なToolを試してみたい！」

**メンターのアドバイス**:
> 「semantic_searchは『意味検索』。キーワード検索と違って、質問文で検索できるのが強み。『Formのバリデーションはどうやる？』という自然な文章で検索してみよう。」

**記事の想定構成**:
1. この記事で学べること（最初の10分で感動する）
2. ステップ1: Claudeに「Nablarchのハンドラキューを教えて」と聞いてみる
3. ステップ2: Resourceを使って、ハンドラーの一覧を表示してみる
4. ステップ3: semantic_searchでNablarch知識を検索してみる
5. ステップ4: design_handler_queueでハンドラキューを設計してみる
6. まとめ --- 次は応用編へ

**実践課題**:
- [ ] 「Formのバリデーション」で検索し、結果を3つ読む
- [ ] Resourceから知識を1つ取得する
- [ ] 検索クエリを工夫して、より良い結果を得る

**実務での活用場面**: Nablarch開発での日常的なAIツール活用、ドキュメント調査

**想定分量**: 600-700行 / 所要時間: 約30分

**前記事からの接続**: 「記事03でセットアップが完了しました。いよいよ実際にToolsを使ってみましょう」
**次記事への橋渡し**: 「基本的なTools（検索、設計支援）とResourcesを使えるようになりました。次は、**コード生成やテスト生成などの高度なTools**を学びます」

---

#### 記事04B: 使ってみよう 応用編 --- 10 Tools x 8 Resources x 6 Promptsの実践ガイド【記事04を分割・後半】

| 項目 | 内容 |
|------|------|
| **変更** | **記事04を分割（後半）**。残りのToolsとPromptを詳述 |
| **学習レベル** | レベル2 |
| **習得スキル** | S06: 基本Tool使用（応用） |
| **前提知識** | 記事04A（基本3 Tools使用経験） |
| **学べること** | generate_code、generate_test、Promptの使い方、全10 Toolsの一覧 |
| **できるようになること** | 10 Tools + 6 Promptsを使いこなせる、Nablarch Webアプリを作成できる |

**読者の感情設計**:
- 読む前: 「基本はわかった。もっと色々できるようになりたい」
- 読んだ後: 「コード生成もテスト生成もできた！ Nablarchアプリを作れるようになった！」
- 次を読みたい理由: 「Toolsを使いこなせるようになった。でも、裏側でどういう仕組みで動いてるの？」

**メンターのアドバイス**:
> 「全部を一度に理解しようとしなくてOK。自分が実務で使いそうなToolを3つ選んで、それを深く理解する方が効率的。残りは必要になった時に戻って読めば十分。」

**実践課題**:
- [ ] generate_codeでActionクラスを生成する
- [ ] generate_testでテストコードを生成する
- [ ] 6 Promptsのうち1つを実行し、引数を変えて挙動を確認する
- [ ] 10 Toolsのうち5つを実際に使ってみる

**実務での活用場面**: Nablarch開発でのコード自動生成、バリデーション設計、テスト作成

**想定分量**: 700-800行 / 所要時間: 約40分

**前記事からの接続**: 「記事04Aで基本的なToolsを体験しました。今回は残りのToolsとPromptsを使いこなします」
**次記事への橋渡し**: 「Toolsを使ってNablarchアプリを作成できました。次は、これらのToolsが**どのような内部構造で動いているか**を学びます」

---

#### 記事05: アーキテクチャ概要 --- Spring Boot + MCP + RAGの三位一体

| 項目 | 内容 |
|------|------|
| **変更** | 冒頭にSpring Boot補足セクション追加（200-300行）、記事02との重複削減 |
| **学習レベル** | レベル2 から レベル3 |
| **習得スキル** | S07: 3層アーキテクチャ理解 |
| **前提知識** | 記事04B（Toolsを実際に使用）、Java基礎 |
| **学べること** | 3層構造（MCP Protocol / RAG Engine / Data Layer）、Spring Boot設計、トランスポート層 |
| **できるようになること** | アーキテクチャ図を読み解ける、各層の役割を説明できる |

**読者の感情設計**:
- 読む前: 「どういう仕組みで動いてるの？ ちょっと難しそう...」
- 読んだ後: 「3層構造で動いてるんだな。まだ詳しくはわからないけど、全体像は掴めた」
- 次を読みたい理由: 「全体像はわかった。RAGって結局何？ もっと詳しく知りたい！」

**メンターのアドバイス**:
> 「この記事から対象読者が中級者寄りになる。Spring Bootを知らない場合は、冒頭の補足セクションを読んでから本編に進んでOK。焦らなくて大丈夫。全体像だけ掴めれば十分。」

**実践課題**:
- [ ] 3層構造（MCP Layer、RAG Layer、Data Layer）を自分の言葉で説明する
- [ ] 「なぜSpring Bootを採用したのか」を説明する

**実務での活用場面**: アーキテクチャレビュー会議、技術選定会議

**修正アクション**:
- 冒頭に「Spring Boot補足セクション」を追加（DIコンテナ、@Bean、@Configurationの基本を簡潔に説明）
- 「ここから中級編です。Spring Bootの基礎知識があると理解しやすいですが、なくても大丈夫です。わからない用語は飛ばして、全体像だけ掴んでください」と明記
- 記事02との重複部分（技術スタック、提供機能、RAG+MCP統合）を削減

**前記事からの接続**: 「記事04Bまでで実際にToolsを使いこなせるようになりました。ここからは、その裏側の仕組みを理解していきます」
**次記事への橋渡し**: 「全体アーキテクチャの3層構造を理解できました。次は、**RAG Engine Layerの核となる技術**の基礎を学びます」

---

#### 記事05A: RAG入門 --- AIに正確な情報を渡す技術【新規】

| 項目 | 内容 |
|------|------|
| **変更** | **新規記事** |
| **学習レベル** | レベル3 |
| **習得スキル** | S09: RAG基礎理解 |
| **前提知識** | 記事05（アーキテクチャ概要）、記事04A（semantic_searchを使った経験） |
| **学べること** | RAGの必要性、Embeddingの直感的理解、ベクトル検索の基礎 |
| **できるようになること** | RAGの基本概念を理解し、Embeddingの意味を直感的に説明できる |

**なぜこの記事が必要か**（3案共通の重要指摘）:
記事06（RAGパイプライン詳解）の対象読者が「中級者（RAG・Embedding・ベクトル検索の基礎知識がある方）」だが、それ以前の記事でこれらの概念は説明されていない。駆け出しエンジニアは記事06のタイトルを見た瞬間に脳が拒否反応を起こす。

**読者の感情設計**:
- 読む前: 「RAGって結局何？ 難しそう...」
- 読んだ後: 「RAGは『AIに正確な情報を渡す技術』か。Embeddingってテキストを数字に変換するのね。『猫』と『犬』は近い数字、『猫』と『車』は遠い数字。わかりやすい」
- 次を読みたい理由: 「RAGの基本がわかった。nablarch-mcp-serverの知識管理の仕組みを知りたい！」

**メンターのアドバイス**:
> 「RAGの仕組みは難しそうに聞こえるけど、実は『AIが知らないことを外部知識で補う技術』。記事04Aでsemantic_searchを使った時、裏側ではRAGが動いていた。あの体験を思い出しながら読むと理解しやすい。」

**記事の想定構成**:
1. RAGとは何か（超簡単な説明）
2. なぜRAGが必要か（LLMの知識不足を補う）
3. Embeddingとは何か（テキストを数字に変換する直感的理解）
4. ベクトル検索とは何か（意味が似ていれば言葉が違っても見つかる）
5. RAGの3ステップ（保存→検索→生成）
6. nablarch-mcp-serverでのRAG活用（記事04Aの体験との関連）
7. まとめ --- 次の記事への橋渡し

**実践課題**:
- [ ] Embeddingとは何かを、非エンジニアに説明できる言葉で書く
- [ ] 「キーワード検索」と「ベクトル検索」の違いを例を使って説明する

**実務での活用場面**: AI活用戦略の立案、RAGシステムの技術選定

**想定分量**: 600-800行 / 所要時間: 約25分

**前記事からの接続**: 「記事05でアーキテクチャの3層構造を学びました。今回は、その中核技術であるRAGの基礎を学びます」
**次記事への橋渡し**: 「RAGとEmbeddingの基本概念を理解できました。次は、RAGを実現するための**基盤となる静的知識（YAML）**の構造を学びます」

---

#### 記事06: ナレッジの構造化 --- YAML知識ファイルの設計思想と実装（旧記事07）

| 項目 | 内容 |
|------|------|
| **変更** | 旧記事07を記事06に移動（静的知識を動的知識より先に） |
| **学習レベル** | レベル3 |
| **習得スキル** | S08: 静的知識vs動的知識 |
| **前提知識** | 記事05A（RAGの基礎）、記事04A-04B（Toolsの使用経験） |
| **学べること** | 静的知識vs動的知識、YAML設計パターン、ResourceProvider |
| **できるようになること** | YAML知識ファイルを読み解ける、静的/動的の使い分けを理解できる |

**読者の感情設計**:
- 読む前: 「知識ってどうやって管理してるの？」
- 読んだ後: 「YAMLファイルで静的知識を管理してるのか。これなら自分でも追加できそう」
- 次を読みたい理由: 「静的知識の仕組みがわかった。次は動的知識（RAG）の詳細を知りたい」

**メンターのアドバイス**:
> 「YAMLは『確実に正しい知識』を書く場所。ハンドラの一覧、API仕様、設計パターン等、公式に決まっている情報はYAMLに書く。一方、『このコードはどう動く？』みたいな探索的な質問はRAG（動的知識）が得意。」

**実践課題**:
- [ ] 10種類のYAML知識ファイルのうち1つを開き、構造を理解する
- [ ] 「静的知識」と「動的知識」の使い分けを自分の言葉で説明する

**実務での活用場面**: プロジェクト固有のナレッジベース設計、社内標準ライブラリのMCP Resource化

**前記事からの接続**: 「記事05AでRAGの基礎を学びました。今回は、RAGで扱う知識の基盤となる静的知識（YAML）の構造を学びます」
**次記事への橋渡し**: 「静的知識（YAML）の構造を理解できました。次は、**動的知識（RAGパイプライン）の詳細**を学びます」

---

#### 記事07: RAGパイプライン詳解 --- 検索・Embedding・リランキングの仕組み（旧記事06）

| 項目 | 内容 |
|------|------|
| **変更** | 旧記事06を記事07に移動、対象読者を「記事05Aを読んだ方」に変更 |
| **学習レベル** | レベル3 |
| **習得スキル** | S11: RAGパイプライン詳解 |
| **前提知識** | 記事05A（RAG基礎）、記事06（静的知識） |
| **学べること** | Embeddingモデル（Jina v4、Voyage-code-3）、ハイブリッド検索、リランキング |
| **できるようになること** | RAG全体像を説明できる、検索パイプラインを図解できる |

**読者の感情設計**:
- 読む前: 「RAGの詳細を知りたい。記事05Aで基本は学んだから、大丈夫なはず」
- 読んだ後: 「Embeddingモデル、BM25、リランキング...難しいけど、『検索精度を上げる3段階の工夫』だとわかった」
- 次を読みたい理由: 「RAGの詳細がわかった。Spring AI SDKでどう実装してるの？」

**メンターのアドバイス**:
> 「RAGの仕組みは結局『キーワード検索 + 意味検索 + 再ランキング』という3段階検索をやっているだけ。この3つを組み合わせることで、検索精度が劇的に上がる。難しい用語に惑わされず、この本質を押さえよう。」

**実践課題**:
- [ ] BM25とベクトル検索の違いを図に描く
- [ ] ハイブリッド検索のメリットを自分の言葉で説明する

**実務での活用場面**: RAGシステムのパフォーマンスチューニング、Embedding APIの選定

**修正アクション**:
- 対象読者を変更: 「中級者（RAG・Embedding・ベクトル検索の基礎知識がある方）」(削除) → 「記事05Aを読んだ方」(新規)
- 冒頭に「記事05AでRAGの基本を学びました。ここからは、もう少し詳しく学びます。難しい用語が出てきますが、『検索精度を上げる工夫』だと理解してください」と明記

**前記事からの接続**: 「記事06で静的知識（YAML）を理解しました。今回は、動的知識を支えるRAGパイプラインの詳細を学びます」
**次記事への橋渡し**: 「RAGパイプラインの全体像を理解できました。次は、これらを**Spring Boot + Spring AI MCP SDKで実装する方法**を学びます」

---

#### 記事08: Spring AI MCP Serverとの統合 --- SDKの使い方と内部構造

| 項目 | 内容 |
|------|------|
| **変更** | 次回予告を修正 |
| **学習レベル** | レベル3 から レベル4 |
| **習得スキル** | S10: Spring Boot基礎（実践）、S13: Spring AI MCP統合 |
| **前提知識** | 記事07（RAG詳細）、Spring Boot基礎 |
| **学べること** | MCP Java SDK構成、McpServerConfig、Tool/Resource/Prompt実装パターン |
| **できるようになること** | SDK実装パターンを理解し、McpServerConfigを読み解ける |

**読者の感情設計**:
- 読む前: 「Spring AIって何？ MCPサーバーの実装方法を知りたい」
- 読んだ後: 「Spring BootでMCPサーバーを作る仕組みか。@Tool、McpServerConfig...なるほど」
- 次を読みたい理由: 「SDKの基礎がわかった。実際の設定ファイルはどうなってるの？」

**メンターのアドバイス**:
> 「Spring AI MCP SDKは、Spring Bootの@Beanパターンをそのまま使える。Spring Bootを知っていれば、MCPの実装は簡単。逆に知らないと厳しいので、まずSpring Boot入門を学んでから戻ってきてOK。」

**実践課題**:
- [ ] McpServerConfigのBean登録パターンを読み解く
- [ ] @Toolアノテーションを使った簡単なToolクラスのコードを読む

**実務での活用場面**: Spring BootプロジェクトへのMCP統合、カスタムToolの設計

**修正アクション**:
- 次回予告を修正: 「次回: RAGエンジン統合」(削除) → 「次回は、設定ファイル（application.yaml、pom.xml）のカスタマイズ方法を学びます」(新規)

**前記事からの接続**: 「記事07でRAGパイプラインの詳細を学びました。今回は、Spring AI MCP SDKでの実装方法を学びます」
**次記事への橋渡し**: 「Spring AI MCP SDKの実装パターンを理解できました。次は、実際に動かすための**設定ファイル**を学びます」

---

#### 記事09: 設定ファイル完全ガイド --- application.yaml から pom.xml まで（旧記事11）

| 項目 | 内容 |
|------|------|
| **変更** | 旧記事11を記事09に移動（設定を実装パターンの前に）、次回予告を修正 |
| **学習レベル** | レベル3 から レベル4 |
| **習得スキル** | S12: 設定ファイル理解 |
| **前提知識** | 記事08（SDK実装パターン）、Spring Boot設定ファイル基礎 |
| **学べること** | application.yaml、pom.xml、プロファイル（STDIO vs HTTP） |
| **できるようになること** | 設定ファイルをカスタマイズでき、環境変数でシークレット管理できる |

**読者の感情設計**:
- 読む前: 「設定ファイルってどうなってるの？」
- 読んだ後: 「application.yamlの全設定項目がわかった。カスタマイズできそう」
- 次を読みたい理由: 「設定がわかった。Tool/Resourceの設計と実装パターンを詳しく知りたい」

**メンターのアドバイス**:
> 「設定ファイルは『レシピ』。全部を暗記する必要はないけど、『どこに何が書いてあるか』を把握しておくことが大事。特にEmbedding設定とデータベース設定は本番運用で必ず調整することになる。」

**実践課題**:
- [ ] application.yamlの全設定項目を読み、自分のプロジェクトに必要な設定を3つ選ぶ
- [ ] STDIOモードとHTTPモードの違いを説明し、どちらを使うべきか判断する

**実務での活用場面**: 環境別設定の管理（dev/staging/production）、Embedding APIのコスト削減

**修正アクション**:
- 次回予告を修正: 「次回は本番運用（Docker、CI/CD、監視）」(削除) → 「次回は、10 Toolsの設計思想と実装パターンを学びます」(新規)

**前記事からの接続**: 「記事08でSDK実装パターンを学びました。今回は、実際に動かすための設定ファイルを学びます」
**次記事への橋渡し**: 「設定ファイルで動作を調整できるようになりました。次は、**10 Toolsの設計思想と実装パターン**を学びます」

---

#### 記事10: Tool設計と実装パターン --- 10 Toolsの設計思想を読み解く（旧記事09）

| 項目 | 内容 |
|------|------|
| **変更** | 旧記事09を記事10に番号変更、分量圧縮（1308行から800行目標） |
| **学習レベル** | レベル4 |
| **習得スキル** | S14: Tool実装パターン |
| **前提知識** | 記事08（SDK実装パターン）、記事09（設定ファイル） |
| **学べること** | 10 Tools一覧と分類、共通パターン、設計思想、代表的Tool実装詳細 |
| **できるようになること** | Toolの全体像を把握し、内部実装を読み解ける |

**分割vs圧縮の判断**:
教育設計者案は記事09を2分割（10A: 設計概要、10B: 実装詳細）を提案。テックリード案も分割を検討。一方、駆け出しエンジニア案は圧縮（代表3 Toolを詳述、残りは簡潔に）を提案。
**推奨: 圧縮を採用**。理由は、分割すると全体記事数が18本になり冗長になること。代表3 Tool（semantic_search、design_handler_queue、generate_code）を詳述し、残り7 Toolsは一覧表+簡潔な説明にすることで800行に収まる。

**読者の感情設計**:
- 読む前: 「Toolってどう設計するの？」
- 読んだ後: 「10個のToolの設計思想がわかった。共通パターンがあるんだな」
- 次を読みたい理由: 「Toolの設計がわかった。ResourceとPromptは？」

**メンターのアドバイス**:
> 「10個のToolを全部理解しようとしなくてOK。まずはsemantic_searchとdesign_handler_queueの2つを深く読み込む。この2つが理解できれば、他のToolも同じパターンで読めるようになる。」

**実践課題**:
- [ ] 10 Toolsのうち1つのソースコードを読み、実装パターンを理解する
- [ ] 自分のプロジェクトで必要そうなToolを1つ設計する（実装しなくてOK）

**実務での活用場面**: プロジェクト固有のTool開発、既存Toolのカスタマイズ

**修正アクション**:
- 1308行を800行に圧縮: 代表3 Tool（semantic_search、design_handler_queue、generate_code）を詳述、残り7 Toolsは一覧表+簡潔な説明
- 全Toolの共通パターン（@Tool、@ToolParam、単一責任、連携パターン）を冒頭で体系的に説明

**前記事からの接続**: 「記事09で設定ファイルを学びました。今回は、10 Toolsの設計思想と実装パターンを学びます」
**次記事への橋渡し**: 「10 Toolsの設計思想と実装パターンを理解できました。次は、**ResourceとPromptの設計パターン**を学びます」

---

#### 記事11: Resource/Prompt設計と実装パターン --- 知識の公開とテンプレートの活用（旧記事10）

| 項目 | 内容 |
|------|------|
| **変更** | 旧記事10を記事11に番号変更、前提知識の記事番号修正 |
| **学習レベル** | レベル4 |
| **習得スキル** | S15: Resource/Prompt実装 |
| **前提知識** | 記事10（Tool実装パターン）、記事06（ResourceProvider） |
| **学べること** | 8 Resources（URIパターン設計）、6 Prompts（引数付きテンプレート）、連携パターン |
| **できるようになること** | Resource/Promptを理解し、URI設計の考え方を説明できる |

**読者の感情設計**:
- 読む前: 「ResourceとPromptは？」
- 読んだ後: 「Resourceは知識、Promptはテンプレート。URI設計のパターンもわかった」
- 次を読みたい理由: 「Tool、Resource、Promptの設計が全部わかった。自分で作ってみたい！」

**メンターのアドバイス**:
> 「ResourceはRESTfulなURI設計の考え方をそのまま使える。例えばhandler/{app_type}は『Webアプリ用のハンドラ知識』を表現している。URIを見れば何の知識かが分かるように設計することが大事。」

**実践課題**:
- [ ] 8 Resourcesのうち1つのソースコードを読み、URI設計パターンを理解する
- [ ] 6 Promptsのうち1つを実行し、引数を変えて挙動を確認する

**実務での活用場面**: プロジェクト固有のナレッジをMCP Resourceとして公開、テンプレート化

**修正アクション**:
- 前提知識の記事番号を修正（新しい番号体系に合わせる）

**前記事からの接続**: 「記事10でTool設計パターンを学びました。今回は、ResourceとPromptの設計パターンを学びます」
**次記事への橋渡し**: 「Resource/Promptの設計パターンを理解できました。次は、**新しいTool/Resource/Promptを一から実装する方法**を学びます」

---

#### 記事12: 拡張ガイド --- 新しいTool・Resource・Promptを追加する方法

| 項目 | 内容 |
|------|------|
| **変更** | 次回予告を修正 |
| **学習レベル** | レベル4 から レベル5 |
| **習得スキル** | S16: 拡張実装 |
| **前提知識** | 記事10-11（設計パターン）、JUnit 5基礎 |
| **学べること** | Tool拡張（@Tool実装 + テスト）、Resource拡張、Prompt拡張 |
| **できるようになること** | 新しいToolを一から実装し、テスト駆動で拡張できる |

**読者の感情設計**:
- 読む前: 「自分で拡張してみたい」
- 読んだ後: 「新しいToolを追加する方法がわかった。やってみよう」
- 次を読みたい理由: 「拡張方法がわかった。テストってどうなってるの？」

**メンターのアドバイス**:
> 「拡張ガイドは『実装の総まとめ』。記事10-11で学んだパターンを使って、実際にコードを書いてみよう。最初は既存Toolのコピーと修正でOK。完全にゼロから書けるようになるのは、2-3個目から。」

**実践課題**:
- [ ] TDDサイクル（Red → Green → Refactor）で簡単なToolを実装する
- [ ] テストファーストで実装することのメリットを自分の言葉で説明する

**実務での活用場面**: プロジェクト要件に応じた機能追加、社内標準ライブラリのMCP対応

**修正アクション**:
- 次回予告を修正: 「次はログ設計、メトリクス収集、トラブルシューティング、パフォーマンスチューニング」(削除) → 「次は、810件のテストが守る品質の仕組みを学びます」(新規)

**前記事からの接続**: 「記事11でResource/Promptの設計パターンを学びました。今回は、実際に新しいTool/Resource/Promptを一から実装します」
**次記事への橋渡し**: 「新しいToolを実装できるようになりました。次は、**810件のテストが守る品質の仕組み**を学びます」

---

#### 記事13: テスト戦略 --- 810件のテストが守る品質の仕組み

| 項目 | 内容 |
|------|------|
| **変更** | 次回予告を修正、前提知識参照を修正 |
| **学習レベル** | レベル5 |
| **習得スキル** | S17: テスト実装 |
| **前提知識** | 記事12（拡張を実践）、JUnit 5 + Mockito基礎 |
| **学べること** | 810件のテスト（単体/統合/E2E/品質評価）、モック戦略、検索品質評価 |
| **できるようになること** | テスト駆動で拡張でき、テストピラミッドを理解できる |

**読者の感情設計**:
- 読む前: 「テストってどうなってるの？」
- 読んだ後: 「810件のテスト...品質をこうやって守ってるのか。すごい仕組みだ」
- 次を読みたい理由: 「テストの仕組みがわかった。困った時の対処法を知りたい」

**メンターのアドバイス**:
> 「テストピラミッド（単体 > 統合 > E2E）は、実務で最も重要な品質保証の考え方。MRR、Recall@K、NDCG@K等の評価指標は、最初は難しく感じるかもしれないけど、『検索精度を数値で測る方法』と理解すればOK。」

**実践課題**:
- [ ] 既存のTool単体テストを読み、モックの使い方を理解する
- [ ] 自分が実装したToolのテストを1つ書く

**実務での活用場面**: 品質保証プロセスの設計、CI/CDパイプラインでのテスト自動化

**修正アクション**:
- 次回予告を修正: 「次はHTTP Transportの実装」(削除) → 「次は、トラブルシューティングとロードマップを学びます」(新規)
- 前提知識参照を修正: 「記事05のRAGパイプライン」(削除) → 「記事07のRAGパイプライン」(新規)

**前記事からの接続**: 「記事12で新しいToolを実装しました。今回は、その品質を守るテスト戦略を学びます」
**次記事への橋渡し**: 「テスト戦略を理解し、品質を保証する方法を学びました。次は、**本番環境でのトラブルシューティング**と今後のロードマップを学びます」

---

#### 記事14: トラブルシューティングとロードマップ --- 困った時の解決策と今後の展望

| 項目 | 内容 |
|------|------|
| **変更** | 前提知識参照を全面修正、シリーズ総まとめの記事タイトルを修正 |
| **学習レベル** | レベル5（最終到達点） |
| **習得スキル** | S18: トラブルシューティング、S19: パフォーマンスチューニング |
| **前提知識** | 全16記事を読了（特に記事03: セットアップ、記事07: RAG、記事13: テスト） |
| **学べること** | エラーメッセージ逆引き、デバッグテクニック、パフォーマンスチューニング、ロードマップ |
| **できるようになること** | 本番環境での問題を解決でき、プロジェクトの未来を理解し、専門家として自立している |

**読者の感情設計**:
- 読む前: 「困った時の対処法を知りたい」
- 読んだ後: 「全17記事を学び、駆け出しエンジニアから専門家に成長した。これで実務で使える。完走した！」

**メンターのアドバイス**:
> 「トラブルシューティングのスキルは、『エラーメッセージを読む → ログを見る → 原因を切り分ける』の3ステップ。最初は時間がかかるけど、10回やれば慣れる。エラーログは敵じゃなくて、問題解決のヒントだと思おう。」

**実践課題**:
- [ ] よくあるエラー3つを選び、自分の環境で再現→解決してみる
- [ ] MCP Inspectorを使ってToolの動作を確認する

**実務での活用場面**: 本番障害対応、ユーザーサポート、パフォーマンス改善

**修正アクション（最重要 --- テックリード案で最高優先度と指摘）**:
- セクション7「シリーズ総まとめ」の全記事タイトルをINDEX.mdと一致させる
- 前提知識の記事番号を全面修正（新番号体系に合わせる）
- セクション8「索引」の全記事タイトルも修正

**前記事からの接続**: 「記事13でテスト戦略を学びました。最終回は、本番環境でのトラブルシューティングと今後のロードマップです」
**次記事への橋渡し**: （最終回）「全17記事を学び、駆け出しエンジニアから専門家に成長しました。これからは、コミュニティに貢献し、プロジェクトをさらに発展させていきましょう」

---

## 3. ストーリーライン（全体を貫くナラティブ）

### 3.1 成長物語の全体設計

読者は「ゼロ知識の駆け出しエンジニア」から「nablarch-mcp-server専門家」への成長を体験する。この成長は5つのフェーズで構成され、各フェーズに明確なゴールと感情の山場がある。

```
  感情の高さ
  |
  |                                              *完走の達成感
  |         *感動体験                           /
  |        / (動いた！)      *理解の喜び       /
  |       /              /  (仕組みが      /
  |      /              /    わかった！)   /
  |     /    谷間      /                  /  *実装の自信
  |    /   (難しい   /                  /   (自分で作れた！)
  |   /   でも大丈夫)/                  /
  |  /                               /
  | /                               /
  |/                               /
  +------+------+------+------+------> 記事
  | 入門編 | 初級編 | 中級編 |上級+実践|
  |01-03A |03-04B |05-09 | 10-14 |
```

### 3.2 5段階の学習レベル変遷

| レベル | 名称 | 到達記事 | 知識状態 | できること | できないこと |
|-------|------|---------|---------|-----------|------------|
| **0** | ゼロ知識 | 開始前 | プログラミング基礎、AIツール使用経験 | Claude Codeを使える | MCP/Nablarch/RAGを知らない |
| **1** | MCP理解者 | 01-03A | MCP概念、Nablarch概要、基礎用語 | MCPの価値を説明できる | MCPサーバーを動かせない |
| **2** | 実践者 | 03-04B | 環境構築、10 Tools + 8 Resources + 6 Prompts | Toolsを使ってNablarch開発ができる | 内部構造を理解していない |
| **3** | アーキテクト | 05-09 | 3層構造、RAG、YAML、Spring AI、設定ファイル | アーキテクチャを説明でき、設定をカスタマイズできる | 新しいToolを実装できない |
| **4** | 実装者 | 10-11 | Tool/Resource/Prompt設計パターン | 設計パターンを読み解ける | 一から実装できない |
| **5** | 専門家 | 12-14 | 拡張実装、テスト戦略、トラブルシューティング | 自立した専門家。拡張・テスト・運用まで全て可能 | なし |

### 3.3 各フェーズの詳細設計

#### 第1部: 入門編（記事01-03A）「ゼロからの第一歩」

**ゴール**: MCPとNablarchの基本概念を理解し、「このシリーズを読み通せそう」と確信する

**ペーシング**: ゆったり。難しい用語は出さない。「なぜこれが必要なの？」を丁寧に説明。

**感情の設計**:
- 記事01: 「MCPって面白い概念だな」（知的好奇心）
- 記事02: 「AIがNablarchを理解できない問題を解決するのか」（共感）
- 記事03A: 「Nablarchの基本用語がわかった。Spring Bootとの比較でイメージしやすい」（安心感）

**教育理論の適用**: 足場かけ（Scaffolding）--- 学習者が自力でできることの少し上を支援

#### 第2部: 初級編（記事03-04B）「動かして感動する」

**ゴール**: セットアップを完了し、Toolsを実際に使って「動いた！」という感動体験を得る

**ペーシング**: テンポよく。手を動かす体験を中心に。理論は最小限。

**感情の設計**:
- 記事03: 「セットアップできた！ MCPサーバーが動いてる！」（達成感）
- 記事04A: 「Claudeがちゃんと答えてくれた！ すごい！」（感動）
- 記事04B: 「コード生成もテスト生成もできた！ Nablarch開発が楽になりそう」（期待）

**教育理論の適用**: 動機づけ --- 「動いた！」体験で学習意欲を高める

#### 第3部: 中級編（記事05-09）「仕組みを理解する」

**ゴール**: アーキテクチャ、RAG、YAML、Spring AI、設定ファイルの仕組みを理解する

**ペーシング**: じっくり。各記事で1つの大きな概念を深掘り。新概念は3-4個に制限。

**感情の設計**:
- 記事05: 「全体像がわかった。3層構造で動いてるんだな」（理解の喜び）
- 記事05A: 「RAGの基本がわかった。Embeddingって面白い」（知的好奇心の復活）
- 記事06: 「YAMLで知識を管理してるのか。自分でも追加できそう」（自信）
- 記事07: 「RAGの詳細は難しいけど、『検索精度を上げる3段階の工夫』だと理解できた」（達成感）
- 記事08: 「Spring AI MCP SDKの仕組みがわかった」（理解の深化）
- 記事09: 「設定ファイルでカスタマイズできるようになった」（実用的な自信）

**教育理論の適用**:
- スパイラル学習 --- RAGを3段階で学習（記事02で概要 → 05Aで基礎 → 07で詳細）
- 認知負荷理論 --- 新概念を3-4個に制限

**挫折防止ポイント**:
- 記事05冒頭: 「ここから中級編です。Spring Bootの基礎知識があると理解しやすいですが、なくても大丈夫です」
- 記事05A: RAGを平易に解説し、記事07での挫折を防ぐ
- 記事06-07: 静的知識（わかりやすい）→ 動的知識（難しい）の順で段階的に

#### 第4部: 上級編（記事10-11）「設計と実装を読み解く」

**ゴール**: Tool/Resource/Promptの設計パターンを理解し、「自分でも作れそう」と確信する

**ペーシング**: 中程度。コード例を中心に。設計思想と実装パターンの対応を明確に。

**感情の設計**:
- 記事10: 「10 Toolsの設計思想がわかった。共通パターンがあるんだな」（パターン認識の喜び）
- 記事11: 「Resource/Promptも同じようなパターンで作られてるのか」（体系的理解）

**教育理論の適用**: 前提知識の累積性 --- 記事04A-04Bで使った経験 + 記事05-09で学んだ理論 = 設計パターンの理解

#### 第5部: 実践編（記事12-14）「自分で作り、守り、直す」

**ゴール**: 一から実装、テスト、トラブルシューティングまでできる「専門家」になる

**ペーシング**: テンポよく。実践課題を中心に。「自分でやってみる」体験を重視。

**感情の設計**:
- 記事12: 「新しいToolを自分で作れた！」（実装の達成感）
- 記事13: 「810件のテスト...品質保証の仕組みがわかった」（プロフェッショナルの自覚）
- 記事14: 「トラブルシューティングもできる。完走した！ 俺、専門家だ！」（完走の充実感）

**教育理論の適用**: 動機づけの完成 --- 「専門家として自立できる」という最終的な達成感

---

## 4. 学習パス（3パターン）

### 4.1 最短パス（急いで使えるようになりたい人向け）

**対象**: 「1週間でnablarch-mcp-serverを使えるようにしたい」方

**所要時間**: 約5時間 / 9記事

```
01 → 02 → 03A → 03 → 04A → 05 → 09 → 08 → 14
```

| 順番 | 記事 | 所要時間 | 目的 |
|------|------|---------|------|
| 1 | 01: MCPとは何か | 30分 | 概念理解 |
| 2 | 02: プロジェクト全体像 | 30分 | 目的理解 |
| 3 | 03A: Nablarch入門 | 20分 | 用語習得 |
| 4 | 03: セットアップ | 45分 | 環境構築 |
| 5 | 04A: 使ってみよう基本編 | 30分 | 基本体験 |
| 6 | 05: アーキテクチャ概要 | 40分 | 全体像把握 |
| 7 | 09: 設定ファイル | 30分 | カスタマイズ |
| 8 | 08: Spring AI MCP統合 | 40分 | SDK理解 |
| 9 | 14: トラブルシューティング | 35分 | 問題解決 |

**習得できるスキル**: S01-S08, S12, S13, S18（日常的な使用と基本的な設定変更が可能）

**スキップするスキル**: S09（RAG基礎）、S11（RAG詳細）、S14-S17（実装・拡張・テスト）、S19（パフォーマンス）

**完了後にできること**:
- nablarch-mcp-serverの日常的な使用
- 設定ファイルのカスタマイズ
- 基本的なトラブルシューティング

**完了後にできないこと**:
- カスタムTool/Resource/Promptの実装
- RAGパイプラインの詳細理解
- テスト設計

---

### 4.2 標準パス（じっくり学びたい人向け）

**対象**: 「全記事を順番に読んで、実装までできるようになりたい」方

**所要時間**: 約13時間 / 全17記事

```
01 → 02 → 03A → 03 → 04A → 04B → 05 → 05A → 06 → 07 → 08 → 09 → 10 → 11 → 12 → 13 → 14
```

全記事を上記の推奨順序で読む。これがデフォルトの学習パス。

**習得できるスキル**: S01-S19（全スキル）

**完了後にできること**:
- 全機能の理解と日常的な活用
- カスタムTool/Resource/Promptの設計・実装
- TDDによる拡張開発
- テスト戦略の設計と品質保証
- 本番運用のトラブルシューティングとパフォーマンスチューニング

---

### 4.3 深掘りパス（専門家・技術リーダーを目指す人向け）

**対象**: 「社内の技術リーダーとして、他メンバーを指導できるレベルになりたい」方

**所要時間**: 約16時間 / 全17記事 + 補足活動

```
標準パス全17記事
  +
各記事の実践課題を全て実施
  +
以下の補足活動:
  - RAG実装の深掘り（pgvector詳細、チャンキング戦略、Embeddingモデル比較）
  - 社内勉強会での発表資料作成
  - 自プロジェクト向けカスタムTool 3本以上の実装
  - テストカバレッジ100%の拡張モジュール作成
```

**補足記事（将来執筆検討）**:
- RAG実装の深掘り（pgvector詳細、チャンキング戦略、Embeddingモデル比較）
- 実装パターンの深掘り（エラーハンドリング、非同期処理、キャッシュ戦略）
- Docker Composeデプロイガイド（本番環境構築）
- CI/CDパイプライン構築（GitHub Actions + Maven）
- 本番運用ベストプラクティス（監視、ログ収集、バックアップ）

**習得できるスキル**: S01-S19（全スキル）+ 本番運用・指導スキル

**完了後にできること**:
- 標準パスの全能力
- 本番環境でのデプロイ・監視・ログ収集
- 社内勉強会の講師
- 他メンバーの技術指導

---

## 5. Phase 1で発見された問題の修正計画

### 5.1 即実施（1-2日 / 工数約8時間）

| # | 問題 | 修正アクション | 工数 | 対象記事 |
|---|------|--------------|------|---------|
| 1 | 記事14の「シリーズ総まとめ」全記事タイトルが間違い | INDEX.mdと一致させる | 1時間 | 記事14 |
| 2 | 記事14の前提知識参照が全て間違い | 正しい記事番号・タイトルに修正 | 30分 | 記事14 |
| 3 | 記事02の次回予告が不一致 | 「次はアーキテクチャ」→「次はNablarch基礎（記事03A）」 | 15分 | 記事02 |
| 4 | 記事06（旧）の次回予告が不一致 | 「次はハンドラキュー自動設計」→ 順序変更後の正しい予告に | 15分 | 旧記事06 |
| 5 | 記事08の次回予告が不一致 | 「次はRAGエンジン統合」→「次は設定ファイル」 | 15分 | 記事08 |
| 6 | 記事11（旧）の次回予告が不一致 | 「次は本番運用」→「次はTool設計パターン」 | 15分 | 旧記事11 |
| 7 | 記事12の次回予告が不一致 | 「次はログ設計」→「次はテスト戦略」 | 15分 | 記事12 |
| 8 | 記事13の次回予告が不一致 | 「次はHTTP Transport」→「次はトラブルシューティング」 | 15分 | 記事13 |
| 9 | 記事05で対象読者が突然「中級者」 | 冒頭にSpring Boot補足セクション追加 | 3時間 | 記事05 |
| 10 | 記事03でPhase 1/2の違いが未説明 | 「Phase 1とPhase 2の違い」セクション追加 | 2時間 | 記事03 |

### 5.2 中期（1-2週間 / 工数約30時間）

| # | 問題 | 修正アクション | 工数 | 備考 |
|---|------|--------------|------|------|
| 11 | Nablarch専門用語が記事04で前提知識 | 新規記事03A「Nablarch入門」執筆 | 6時間 | 600-800行 |
| 12 | RAG基礎知識が記事06で前提知識 | 新規記事05A「RAG入門」執筆 | 6時間 | 600-800行 |
| 13 | 記事04が1586行で過大 | 記事04を04A（基本編）+ 04B（応用編）に分割 | 8時間 | 分割+加筆修正 |
| 14 | 記事06-07の順序が不自然 | 記事06と07を入れ替え（静的→動的の順に） | 2時間 | ナビ修正含む |
| 15 | 記事11の配置が不適切 | 記事11を記事08の直後に移動（新番号: 記事09） | 2時間 | ナビ修正含む |
| 16 | 記事09が1308行で過大 | 800行に圧縮（代表3 Toolを詳述、残りは簡潔に） | 4時間 | |
| 17 | 記事02の技術用語が唐突 | 技術用語を簡潔化し、用語集を末尾に追加 | 2時間 | |

### 5.3 長期（1ヶ月以内 / 工数約40時間）

| # | 問題 | 修正アクション | 工数 | 備考 |
|---|------|--------------|------|------|
| 18 | 「手を動かす体験」の不足 | 全17記事に実践課題セクションを追加 | 17時間 | 各1時間 |
| 19 | メンターアドバイスの不足 | 全17記事にメンターアドバイスを追加 | 8時間 | 各30分 |
| 20 | 実務活用場面の不足 | 全17記事に実務活用場面を追加 | 8時間 | 各30分 |
| 21 | 感情設計の不足 | 全17記事に読者の感情状態を設計・明記 | 4時間 | |
| 22 | INDEX.mdの更新 | 全17記事の新構成を反映、学習パス図を更新 | 3時間 | |
| 23 | 記事14の索引セクション | 全記事タイトルの修正 | 1時間 | |

### 5.4 将来検討（優先度: 低）

| # | 提案 | 内容 | 出典 |
|---|------|------|------|
| 24 | Spring Boot基礎入門記事の追加 | 記事05の前提知識問題をさらに解決 | テックリード案 Option B |
| 25 | 補足記事5本の執筆 | Docker、CI/CD、本番運用等 | テックリード案 深掘りパス |
| 26 | スキルツリー対応表のINDEX.md追加 | 学習パスの可視化 | テックリード案 |
| 27 | 「駆け出しエンジニア」の定義明確化 | INDEX.mdの謳い文句を精緻化 | テックリード案 5.2 |

---

## 6. 新旧記事対応表

### 6.1 番号対応表

| 新番号 | 新タイトル | 旧番号 | 旧タイトル | 変更内容 |
|--------|----------|--------|----------|---------|
| **01** | MCPとは何か | 01 | MCPとは何か | 変更なし |
| **02** | nablarch-mcp-serverの全体像 | 02 | nablarch-mcp-serverの全体像 | 次回予告修正、用語簡潔化 |
| **03A** | **Nablarch入門** | --- | --- | **新規追加** |
| **03** | ゼロから始めるセットアップ | 03 | ゼロから始めるセットアップ | Phase 1/2説明追加 |
| **04A** | **使ってみよう 基本編** | 04（前半） | 使ってみよう | **記事04を分割（前半）** |
| **04B** | **使ってみよう 応用編** | 04（後半） | 使ってみよう | **記事04を分割（後半）** |
| **05** | アーキテクチャ概要 | 05 | アーキテクチャ概要 | Spring Boot補足追加 |
| **05A** | **RAG入門** | --- | --- | **新規追加** |
| **06** | ナレッジの構造化 | **07** | ナレッジの構造化 | **順序変更（07→06）** |
| **07** | RAGパイプライン詳解 | **06** | RAGパイプライン詳解 | **順序変更（06→07）**、対象読者修正 |
| **08** | Spring AI MCP Serverとの統合 | 08 | Spring AI MCP Serverとの統合 | 次回予告修正 |
| **09** | 設定ファイル完全ガイド | **11** | 設定ファイル完全ガイド | **順序変更（11→09）**、次回予告修正 |
| **10** | Tool設計と実装パターン | **09** | Tool設計と実装パターン | **番号変更（09→10）**、分量圧縮 |
| **11** | Resource/Prompt設計と実装パターン | **10** | Resource/Prompt設計と実装パターン | **番号変更（10→11）**、参照修正 |
| **12** | 拡張ガイド | 12 | 拡張ガイド | 次回予告修正 |
| **13** | テスト戦略 | 13 | テスト戦略 | 次回予告修正、参照修正 |
| **14** | トラブルシューティングとロードマップ | 14 | トラブルシューティングとロードマップ | 総まとめ・索引・参照を全面修正 |

### 6.2 変更サマリー

| 変更種別 | 件数 | 内容 |
|---------|------|------|
| 新規追加 | 2本 | 03A（Nablarch入門）、05A（RAG入門） |
| 分割 | 1件 | 記事04 → 04A + 04B |
| 順序変更 | 3件 | 06と07入れ替え、11→09移動 |
| 番号変更 | 2件 | 09→10、10→11（順序変更の玉突き） |
| 内容修正 | 10件 | 次回予告修正5件、補足追加2件、圧縮1件、参照修正2件 |
| 変更なし | 1本 | 記事01のみ |

### 6.3 3案で意見が分かれた点と統合判断

| 論点 | 教育設計者案 | 駆け出しエンジニア案 | テックリード案 | **統合判断** |
|------|------------|-------------------|-------------|------------|
| 記事09の分割 | 2分割（10A+10B） | 圧縮（代表3 Tool詳述） | 分割を検討 | **圧縮を採用**（全体記事数を抑制） |
| 記事04の扱い | 2分割（04A+04B） | 簡易化（600行に圧縮） | 新規04'を追加+旧04を維持 | **2分割を採用**（04A: 基本体験、04B: 応用。簡易化だけだと情報量が不足） |
| 記事11の移動先 | 記事08の直後（新09） | 終盤（旧11のまま） | 記事09の前（設定→実装の順） | **記事08の直後を採用**（教育設計者+テックリード一致） |
| 新規RAG入門の位置 | 記事05の直後（05A） | 記事06の前（07として） | 記事06の前（補足的に） | **記事05の直後を採用**（05A。アーキテクチャ理解直後が最適） |
| 「駆け出しエンジニア」の定義 | そのまま | そのまま | 明確化すべき（3案提示） | **将来検討に分類**（まず記事改善が先。定義変更はINDEX.md改訂時に） |
| Spring Boot基礎入門記事の追加 | 補足セクションで対応 | 補足セクションで対応 | 記事を追加すべき | **補足セクションで対応**（記事追加は将来検討。記事数増加を抑制） |

---

## 7. 教育理論の適用まとめ（教育設計者案より）

本再構成計画では、以下の5つの教育理論を体系的に適用している。

### 足場かけ（Scaffolding）
- **適用箇所**: 新規記事03A（Nablarch入門）、05A（RAG入門）
- **効果**: 学習者が自力でできることの少し上を支援。Nablarch用語を学んだ後に記事04で実際に使う、RAG基礎を学んだ後に記事07で詳細を学ぶ

### 認知負荷理論
- **適用箇所**: 記事04の2分割（04A+04B）、記事10（旧09）の圧縮
- **効果**: 一度に与える新概念を3-4個に制限。記事04Aでは基本3 Toolsのみ、04Bで残りのTools + Prompts

### 前提知識の累積性
- **適用箇所**: 全記事の「前記事からの接続」「次記事への橋渡し」
- **効果**: 前の記事で学んだことが次の記事の土台になる因果関係を明示

### 動機づけ
- **適用箇所**: 全記事の「できるようになること」「実務での活用場面」
- **効果**: 各記事で「学んだ意味」が実感できる成果と実務活用を明示

### スパイラル学習
- **適用箇所**: RAGの3段階学習（記事02で概要 → 05Aで基礎 → 07で詳細）
- **効果**: 同じトピックに基本→応用→発展と繰り返し触れることで理解を深化

---

## 8. 実装ロードマップ

### Phase A: 緊急修正（1-2日）
ナビゲーション不整合5件 + 参照エラー修正 + 補足セクション追加。
工数: 約8時間。

### Phase B: 構造変更（1-2週間）
新規記事2本の執筆 + 記事04の分割 + 順序変更 + 圧縮 + 番号体系の更新。
工数: 約30時間。

### Phase C: 品質向上（2-3週間）
全記事への4要素追加（実践課題 / メンターアドバイス / 実務活用場面 / 感情設計）+ INDEX.md更新。
工数: 約40時間。

### Phase D: 品質保証（1週間）
全17記事のリンク整合性チェック + 通し読みテスト + フィードバック反映。
工数: 約20時間。

**総工数**: 約98時間（Phase A-D合計）

---

## 9. スキルツリーと記事の対応表（テックリード案より統合）

| スキルID | スキル名 | 習得記事 | 難易度 | 実務での活用場面 |
|---------|---------|---------|--------|----------------|
| S01 | MCP概念理解 | 記事01 | ★☆☆☆☆ | クライアントへの技術説明 |
| S02 | プロジェクト目的理解 | 記事02 | ★☆☆☆☆ | 導入提案書作成 |
| S03 | Nablarch基礎 | 記事03A | ★☆☆☆☆ | 新メンバーのオンボーディング |
| S04 | 環境構築スキル | 記事03 | ★★☆☆☆ | 環境構築支援 |
| S05 | MCP接続設定 | 記事03 | ★★☆☆☆ | AIツールセットアップ支援 |
| S06 | 基本Tool使用 | 記事04A-04B | ★★☆☆☆ | 日常のNablarch開発 |
| S07 | 3層アーキテクチャ理解 | 記事05 | ★★★☆☆ | アーキテクチャレビュー |
| S08 | 静的知識vs動的知識 | 記事06 | ★★★☆☆ | ナレッジベース設計 |
| S09 | RAG基礎理解 | 記事05A | ★★☆☆☆ | AI活用戦略の立案 |
| S10 | Spring Boot基礎（実践） | 記事08 | ★★★★☆ | Javaエンタープライズ開発 |
| S11 | RAGパイプライン詳解 | 記事07 | ★★★★☆ | RAGパフォーマンスチューニング |
| S12 | 設定ファイル理解 | 記事09 | ★★★☆☆ | 環境別設定管理 |
| S13 | Spring AI MCP統合 | 記事08 | ★★★★☆ | MCP統合開発 |
| S14 | Tool実装パターン | 記事10 | ★★★★☆ | カスタムTool開発 |
| S15 | Resource/Prompt実装 | 記事11 | ★★★★☆ | ナレッジ公開 |
| S16 | 拡張実装 | 記事12 | ★★★★★ | 機能追加 |
| S17 | テスト実装 | 記事13 | ★★★★★ | 品質保証 |
| S18 | トラブルシューティング | 記事14 | ★★★★☆ | 本番障害対応 |
| S19 | パフォーマンスチューニング | 記事14 | ★★★★☆ | 本番運用改善 |

---

## 10. 読者の挫折防止チェックリスト（駆け出しエンジニア案の核心）

本再構成計画が正しく実装されたことを確認するためのチェックリスト。

### 全記事共通チェック

- [ ] 各記事の冒頭に「この記事で学べること」が明記されているか
- [ ] 各記事の末尾に「次の記事への橋渡し」があり、実際の次記事と一致しているか
- [ ] 新しい専門用語は導入前の記事で説明されているか（前提知識ギャップなし）
- [ ] 一度に導入する新概念は3-4個以下か（認知負荷制限）
- [ ] 実践課題が明記されているか
- [ ] メンターのアドバイスが含まれているか
- [ ] 実務での活用場面が明記されているか

### 挫折ポイント別チェック

- [ ] 記事04A: Nablarch専門用語が出てきた時、記事03Aで学んだ用語のみか
- [ ] 記事05: Spring Boot用語の補足があるか（DIコンテナ、@Bean、@Configuration）
- [ ] 記事07: RAG用語が出てきた時、記事05Aで学んだ概念のみか
- [ ] 記事08: Spring AI SDK初出時に十分な説明があるか
- [ ] 記事10: 10 Toolsを全部理解しなくても良いと明記されているか

### 駆け出しエンジニアの挫折3パターンへの対策確認

1. **「わからない」が3回続く** → 各記事で新概念を3-4個に制限。用語は必ず事前説明。
2. **「で、これ何の役に立つの？」がわからない** → 全記事に実務活用場面を明記。
3. **「動くものが見えない」** → 記事04Aで「最初の10分で感動体験」を提供。

---

---

## 11. 【緊急是正】Phaseモード記述の実装乖離修正（追加指示）

> **追記日**: 2026-02-07
> **根拠**: ソースコード調査
> **優先度**: Phase A（緊急修正）の最優先項目として追加

### 11.1 判明した事実

ソースコード調査により、以下が確定した:

1. **Phase1/Phase2モードの切替機構は存在しない** — Spring Profileは「http」（トランスポート切替用）のみ
2. **DBなしでは起動自体が失敗する** — DataSource/Flyway/JPA全て必須、exclude指定なし
3. **READMEの「Phase 1-4」は開発ロードマップの概念**であり、ランタイム動作モードではない
4. **DB依存ツールはSemanticSearchToolの1個のみ**、残り9ツールはYAML静的知識ベースで動作
5. **全Resource（12個）・全Prompt（6個）もDB不要**

### 11.2 虚偽記述の特定結果

記事内の「Phase Nモード」記述を全記事で検索した結果、**03-setup-guide.md が最大の問題記事**:

| 記事 | 行番号 | 問題記述 | 深刻度 |
|------|--------|---------|--------|
| **03-setup-guide.md** | L17 | 目次「Phase 1モード（静的知識のみ）での起動と確認」 | 🔴 致命的 |
| **03-setup-guide.md** | L20 | 目次「Phase 2モード（RAG）のセットアップ」 | 🔴 致命的 |
| **03-setup-guide.md** | L69 | 「Phase 1（静的知識のみ）では PostgreSQL は不要です」 | 🔴 致命的（虚偽） |
| **03-setup-guide.md** | L109 | 「Phase 1（静的知識のみ）: PostgreSQL不要。即座に動作確認可能」 | 🔴 致命的（虚偽） |
| **03-setup-guide.md** | L250 | セクション見出し「Phase 1モード（静的知識のみ）での起動と確認」 | 🔴 致命的 |
| **03-setup-guide.md** | L252 | 「Phase 1モードでは、PostgreSQLを使用せず動作します」 | 🔴 致命的（虚偽） |
| **03-setup-guide.md** | L497 | セクション見出し「Phase 2モード（RAG）のセットアップ」 | 🔴 致命的 |
| **03-setup-guide.md** | L503 | Phase 1/Phase 2 機能比較表 | 🔴 致命的（存在しない機能の比較） |
| **03-setup-guide.md** | L542 | コマンド例「Phase 2モードで起動」 | 🔴 致命的 |
| **03-setup-guide.md** | L87-99 | フローチャート（Phase 1/2の分岐） | 🔴 致命的 |
| **02-project-overview.md** | L421-422 | 開発Phase表（これ自体は正しいが、モードと混同の恐れ） | 🟡 要注意 |
| **06-rag-pipeline.md** | L501 | Phase 1推定/Phase 2実測のメトリクス表（開発フェーズなら正しい） | 🟡 要注意 |
| **01-what-is-mcp.md** | L286 | Phase 1でSTDIO対応の記述（開発フェーズなら正しい） | 🟡 要注意 |

### 11.3 是正方針

#### A. 用語の統一（全記事共通）

| 現在の用語 | 是正後の用語 | 説明 |
|-----------|-------------|------|
| Phase 1モード | **（廃止）** | この動作モードは存在しない |
| Phase 2モード | **（廃止）** | この動作モードは存在しない |
| Phase 1（開発段階） | Phase 1（開発フェーズ） | 開発ロードマップのフェーズであることを明記 |

#### B. 03-setup-guide.md の全面書き換え（最優先）

現在の構成:
```
セットアップ → Phase 1起動 → Phase 2セットアップ
```

是正後の構成:
```
セットアップ → PostgreSQL + pgvector準備 → 起動 → 動作確認
```

具体的な修正:
1. **「Phase 1モードでの起動」セクション全体を廃止** — 「起動手順」に置き換え
2. **「Phase 2モードのセットアップ」セクション全体を廃止** — DB（PostgreSQL + pgvector）は起動の前提条件として統合
3. **PostgreSQL不要の記述を全削除** — 現状ではDB必須である事実を正確に記載
4. **フローチャートの書き換え** — Phase 1/2分岐を削除、単一の起動フローに
5. **機能比較表の書き換え** — DB依存ツール（1個）とDB不要ツール（9個）の分類表に

#### C. その他記事の是正

- **02-project-overview.md**: 「Phase 1-4」が**開発ロードマップ**であることを冒頭に明記。動作モードとの混同を防ぐ注意書き追加
- **06-rag-pipeline.md**: 「Phase 2の実測値」→「RAGパイプライン実装時の実測値」等、開発フェーズ参照を文脈上明確に
- **01-what-is-mcp.md**: 開発フェーズの記述は維持。動作モードと混同しない表現に

#### D. 新たに記載すべき正確な情報

記事03（セットアップガイド）に以下を正確に記載:

```
【現在のnablarch-mcp-serverの構成】
- 起動にはPostgreSQL + pgvector拡張が必須
- 全10ツール・全12リソース・全6プロンプトが単一構成で起動
- DB依存: SemanticSearchTool（1個）→ ハイブリッド検索にDB必要
- DB不要: 残り9ツール → YAML知識ファイルベースで動作するが、
  現状のアプリケーション構成ではDB接続なしに起動できない

【将来の可能性（未実装）】
- Spring Profile等でDB不要モードを実装すれば、
  静的知識ツールのみで動作させることは技術的に可能
- ただし現時点では未実装
```

### 11.4 Phase Aへの統合

この是正は Phase A（緊急修正）の**最優先項目**として組み込む:

| 優先順位 | 修正内容 | 対象記事 |
|---------|---------|---------|
| **A-0（最優先）** | Phaseモード虚偽記述の全面是正 | 03-setup-guide.md |
| **A-0（最優先）** | Phase用語の明確化（開発フェーズ≠動作モード） | 02, 06, 01, 14 |
| A-1 | ナビゲーション不整合5件修正 | 全記事 |
| A-2 | 記事14の全タイトル誤り修正 | 14 |
| ... | （以降、既存のPhase A項目） | |

---

**以上、Phase 2.5 統合計画完了 + 是正事項追記。**

**次のステップ**: ステークホルダーのレビュー承認後、Phase A（A-0: Phaseモード是正を最優先）から実装開始。
